<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js – The HTML Presentation Framework</title>

		<meta name="description" content="Sensity analysis for MISSABMS">
		<meta name="author" content="Etienne DELAY">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/beige.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h3>Exploring Agent Based Models </br>
						from siluation to results production</h3>
					<p style="text-align:center;">
						<small>Par <a href="https://www.researchgate.net/profile/Etienne_Delay">Etienne Delay</a> and <a href="">Bruno Bonté</a></small> </br>
						<small>September 18th 2018, <a href ="http://www.agropolis.org/miss-abms/">MISSABMS</a></small></br>
						<small>Based on presentation maid for <a href="https://maps.hypotheses.org/">MAPS</a> by E. Delay and S. Rey Coyrehourcq </small>
					</p>
				</section>
				<section>
					<section>
						<h2>Agent based model exploration</h2>
						<img src="./img/gauld_reaction.jpg" alt="strategie" width="60%" style="background:none; border:none; box-shadow:none;">

					</section>
					<section>
						<h3>Explore to discuss</h3>
						<p><small>Discuss complementary conceptions of reality</small></p>
						<img data-src="./img/discussion_bis.svg" alt="speak" height="300" style="background:none; border:none; box-shadow:none;"></img>
						</br>
						<img data-src="./img/pov.jpg" alt="Point de vue" height="150" align="right" style="background:none; border:none; box-shadow:none;"></img>
					</section>
					<section>
						<h3>Explore to make choices</h3>
						<h4>know and act on path dependence</h4>
						<p><small>Choices generate paths leading to the same <i>pattern</i></small></p>
						<img data-src="./img/differentpath.svg" alt="path" height="200" style="background:none; border:none; box-shadow:none;"></img>
						</br>
						<img data-src="./img/loop.svg" alt="Point de vue" height="150" align="right" style="background:none; border:none; box-shadow:none;"></img>
					</section>
					<section>
						<h3>Explore to understand</h3>
						<h4>The "virtual laboratory", an agitator of ideas but not only ... </h4>
						<img data-src="./img/laundry.gif" alt="waching machine" height="200" style="background:none; border:none; box-shadow:none;"></img>
						<p><small>expected / simulated behaviours ? failures ? robustness (s)?</small></p>
					</section>
					<section>
						<h3>The benefits of exploration</h3>
						<p align="left">Exploring models is therefore a matter of organizing: </p>
						<ul style="width: 55%;">
							<li>healthy <strong>confrontation</strong> of points of view</li>
							<li><strong>gaps</strong> measurement between <strong>expected and simulated internal behaviours</strong></li>
							<li>hunting for <strong>bugs</strong> and <strong>limiting cases</strong></li>
						</ul>
							<img src="./img/ComMod_simplification.svg" alt="surprise" width="40%" style="float: left;background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>The benefits of exploration</h3>
						<img src="./img/doc_emmett.gif" alt="surprise" width="40%" style="float: left;background:none; border:none; box-shadow:none;">
						<p>In other words, a systematic process that stimulates the surprise effect. </p>
					</section>
				</section>
				<section>
					<section>
							<h2>model exploration :</h2>
						<h3>aproaches and problems</h3>
						<img src="./img/GAULD_2014_Present.jpg" alt="strategie" width="60%" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>What are we talking about?</h3>
						<blockquote>
						<small>&ldquo;Sensitivity analysis (SA) is used to explore the influence of varying inputs on the outputs of a simulation model&rdquo; (Ginot et al. <a href="https://www.sciencedirect.com/science/article/pii/S0304380005004084?via%3Dihub">2006</a>).</small>
						</blockquote>
						<blockquote>
						<small>&ldquo;By exploring the sensitivity of model output to changes in parameters, we learn about the relative importance of the various mechanisms represented in the model and how robust the model output is to parameter uncertainty.&rdquo; (Thiele et al. <a href="http://jasss.soc.surrey.ac.uk/17/3/11.html">2014</a>).</small>
						</blockquote>
						<ul>
							<li>local sensitivity</li>
							<li>global sensitivity</li>
						</ul>
					</section>
					<section>
						<h3>Local sensitivity: How?</h3>
						<img src="./img/str_OAT.svg" alt="strategie" width="20%" style="float: left;background:none; border:none; box-shadow:none;">
						 <ul style="width: 55%;float: center">
							 <small>
								 <li>+</li>
												 <ul>
														 <li>playful</li>
														 <li>interactif</li>
														 <li>exploratory</li>
														 <li>incremental</li>
														 <li>trial and error</li>
												 </ul>
										 <li>-</li>
														 <ul>
																 <li>unreliable</li>
																 <li>time-consuming</li>
																 <li>limited</li>
																 <li>difficult to reproduce</li>
														 </ul>
								</small>
						 </ul>
						 <img src="./img/mitch-resnick-learning-spiral.jpg" alt="strategie" width="20%" style="float: rigth">
					</section>
					<section>
						<h3>A first step to systematize OAT</h3>
						<img src="./img/parametre.svg" alt="strategie" width="300" style="float:left;background:none; border:none; box-shadow:none;">
						<table id="fullTable", width="50%">
							<tr>
								<td><img src="./img/loop.gif" alt="ressort" width="300" style="background:none; border:none; box-shadow:none;"></td>
							</tr>
							<tr>
								<td>
									a simple model, </br>
									a complete experimental design: </br>
									P1 x P2 x P2 x P3
								</td>
							</tr>
						</table>
					</section>
					<section>
						<h3>Problem #1: Combinatorial explosion</h3>
						<img src="./img/combinatoire.png" alt="combinatoire" width="500">
						<p>Duration & Volumetry impossible to manage</p>
					</section>
					<section>
						<h3>Problem #2 : "Curse Dimensionality"</h3>
						<img src="./img/malediction1.svg" alt="combinatoire" width="650" style="background:none; border:none; box-shadow:none;">
						<p><strong><img src="./img/plus.svg" alt="combinatoire" width="50" style="background:none; border:none; box-shadow:none;"></strong> of dimensions = <strong><img src="./img/moins.svg" alt="combinatoire" width="50" style="background:none; border:none; box-shadow:none;"></strong> coverage with equal nb of points</p>
					</section>
					<section>
						<h3>An example with Netlogo</h3>
						<p>Ants model</p>
						<img src="./img/ants_situationInitiale.svg" alt="combinatoire" width="450" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>Simple rules</h3>
						<p><img src="./img/ants_eating.svg" alt="combinatoire" width="200" style="background:none; border:none; box-shadow:none;"> Use of traces or "pheromones"</p>
						<p><img src="./img/ants_rule2.svg" alt="combinatoire" width="200" style="background:none; border:none; box-shadow:none;"> Alignment with the strongest traces</p>
					</section>
					<section>
						<h3>Behaviour</h3>
						<img src="./img/fonctionnement_ants.png" alt="fonctionnement de ants" width="90%" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>Example of dynamics</h3>
						<img src="./img/ants.gif" alt="dynamique" width="60%" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>Netlogo's BehaviorSpace</h3>
						<img src="./img/BS_config.png" alt="BS configuration" height="45%" style="background:none; border:none; box-shadow:none;">
						<p>this configuration produces 4810 simulations</p>
					</section>
					<section>
						<h3>Stockasticity measurement</h3>
						<img src="./img/mesure_stock.png" alt="stockasticité" width="80%" style="background:none; border:none; box-shadow:none;">
						<p>Measure the role of randomness in simulations?</p>
					</section>
					<section>
						<h3>Search in the data</h3>
						<img src="./img/my_plot.png" alt="plot result BS" width="80%" style="background:none; border:none; box-shadow:none;">
						<p>Observe the combined effects of deposition AND diffusion of pheromones</p>
					</section>
				</section>
				<section>
					<section>
						<h2>Sensitivity analysis?</h2>
						<h3>Some solutions include</h3>
						<img src="./img/gauld_jetpack.interior17.jpg" alt="strategie" width="60%" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>Sioux methods ... </h3>
						<img src="./img/Fig20.png" alt="methodes" width="45%" style="float:left; background:none; border:none; box-shadow:none;">
						<img src="./img/sioux.gif" alt="sioux" width="45%" style="float:rigth">
						<img src="./img/garland_logo.png" alt="mexico" width="45%" style="float:center; background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>or change your approach!</h3>
						<p><small>Organize a tension between the Input - Output choices</small></p>
						<img src="./img/tension_in_out.svg" alt="mexico" width="90%" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>Where can I pull?</h3>
						<p><small>Quantified criteria to "guide" an automated exploration</small></p>
						<img src="./img/tapis_roulant.svg" alt="mexico" width="45%" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>Formalize expectations</h3>
						<p><small>What values of (diffusion, evaporation) minimize the consumption time of the three food piles?</small></p>
						<img src="./img/ants_objectives.svg" alt="objectifs" width="45%" style="background:none; border:none; box-shadow:none;">
						<ul width="40%">
							<li>Objective, minimize time to exhaust the resource</li>
						</ul>
					</section>
					<section>
						<h3>Use a genetic algo. as a calibration algo</h3>
						<img src="./img/ga.png" alt="objectifs" width="80%" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>Optimization in progress</h3>
						<video preload="auto" controls="controls" src="video/replications.mp4" width="500"></video>
					</section>
					<section>
						<h3>Let's get back to our ants</h3>
						<img src="./img/BSearch_netlogo.png" alt="objectifs" width="80%" style="background:none; border:none; box-shadow:none;">
						<p><small>Behavior Search is integrated with Netlogo since version 6</small></p>
					</section>
					<section>
						<h3>Pomic with R</h3>
						<p>Pomic (<i>Pattern Oriented Modelling Information Criterion</i>) is an R package to evaluate the impact of choices in <i>pattern oriented modeling</i> (Piou et al. (<a href="https://www.sciencedirect.com/science/article/pii/S030438000900324X?via%3Dihub">2009</a>))</p>
					</section>
					<section>
						<h3>A short mid-term conclusion</h3>
						<ul>
							<li>Genetic algo. rationalize the calculation a little</li>
							<li>Mais : </li>
							<ul>
								<li>We need to parallelize on a larger scale</li>
								<li>Use algo. designed for ABM exploration</li>
							</ul>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h2>High Performance Computing : OpenMole !</h2>
						<img src="./img/tumblr_okqynmxwrm1rwkrdbo1_500.jpg" alt="BD HPC" width="60%" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>The architecture</h3>
						<img src="./img/openmoleGalRaw.png" alt="OpenMole ideas" width="80%" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>L'interface dans un browser</h3>
						<img src="./img/interface.png" alt="L'interface openMole" width="80%" style="background:none; border:none; box-shadow:none;">
					</section>
					<section>
						<h3>Le modèle Ants dans OpenMole</h3>
						<pre style="brush: scala"><code>
	val ants =
	NetLogo5Task(workDirectory / "ants.nlogo", cmds) set (
		// Map the OpenMOLE variables to NetLogo variables
		netLogoInputs += (gPopulation, "gpopulation"),
		netLogoInputs += (gDiffusionRate, "gdiffusion-rate"),
		netLogoInputs += (gEvaporationRate, "gevaporation-rate"),
		netLogoOutputs += ("final-ticks-food1", food1),
		netLogoOutputs += ("final-ticks-food2", food2),
		netLogoOutputs += ("final-ticks-food3", food3),
		// The seed is used to control the initialisation of the random number generator of NetLogo
		inputs += seed,
		outputs += seed
	)
							</code></pre>
					</section>
					<section>
						<h3>Méthodes</h3>
						<ul>
							<li>Data reconstruction</li>
							<li>Parameter estimation</li>
							<li>Sensitivity analysis</li>
							<li>Robustness assessment</li>
							<li>Optimisation</li>
							<li>Diversity research</li>
							<li>Hybrid, ex: optimisation + diversity</li>
						</ul>
					</section>
					<section>
						<h3>Exemple sur ants</h3>
						<pre style="brush: scala"><code>
	//genetic algorithm
	val nsga2 =
	NSGA2(
		mu = 200,
		genome = Seq(gPopulation in (25.0, 250.0), gDiffusionRate in (0.0, 99.0), gEvaporationRate in (0.0, 99.0)),
		objectives = Seq(food1, food2, food3),
		replication = Replication(seed = seed, aggregation = Seq(median, median, median), max = 100)
	)
	//Workflow
	val evolution =
		SteadyStateEvolution(
			algorithm = nsga2,
			evaluation = ants,
			parallelism = 500,
			termination = 2000
		)
	</code></pre>
					</section>
					<section>
						<h3>Environnements</h3>
						<p>Environments taken into account</p>
						<ul>
							<li>Multi-thread</li>
							<li>Delegation through SSH</li>
							<li>PBS (on ssh)</li>
							<li>SLURM (on ssh)</li>
							<li>Condor (on ssh)</li>
							<li>SGE (on ssh)</li>
							<li>OAR (on ssh)</li>
							<li>EGI Grid (trough DIRAC)</li>
							<li>Adhoc Desktop Grid</li>
						</ul>
					</section>
				</section>
							<section>
					<h2>Thank you for your attention</h2>
					<img src="./img/wokshop.jpg" alt="workshop2016" width="100%" style="background:none; border:none; box-shadow:none;">
					<p><small>The OpenMole team is also a human adventure that is built on paper!</small></p>
					<p>OpenMole Summer School ! 24-29 june 2019: <a href="https://exmodelo.org/">https://exmodelo.org/</a></p>
				</section>
				<section>
					<h3>Go deeper</h3>
					<small>
					<ul>
						<li>Chérel G., Cottineau C., Reuillon R., 2015, « Beyond Corroboration : Strengthening Model Validation by Looking for Unexpected Patterns. », PLoS ONE 10(9).</li>
						<li>Thiele, Jan C., Kurth, Winfried and Grimm, Volker (2014) 'Facilitating Parameter Estimation and Sensitivity Analysis of Agent-Based Models: A Cookbook Using NetLogo and 'R'' Journal of Artificial Societies and Social Simulation 17 (3) 11 http://jasss.soc.surrey.ac.uk/17/3/11.html.</li>
						<li>&#9825; David O′Sullivan, George L. W. Perry, 2013, Spatial Simulation: Exploring Pattern and Process, Wiley-Blackwell</li>
						<li>&#9825; Volker Grimm, Eloy Revilla, Uta Berger, Florian Jeltsch, Wolf M. Mooij, Steven F. Railsback, Hans-Hermann Thulke, 2005, <i>Pattern-Oriented Modeling of Agent-Based Complex Systems: Lessons from Ecology</i>,Science, Vol. 310, Issue 5750, pp. 987-991.</li>
					</ul>
				</small>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/search/search.js', async: true },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
